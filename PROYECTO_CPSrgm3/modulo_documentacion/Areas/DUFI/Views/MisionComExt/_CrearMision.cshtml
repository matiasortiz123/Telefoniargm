@model modulo_documentacion.Areas.DUFI.Models.MisionComExt


<form class="form-horizontal" method="post" asp-action="_CrearMision" asp-controller="MisionComExt">
    <div class="panel-body">
        <div class="form-group">
            <div class="row">
                <div class="col-md-4">
                    <label>Pais</label>
                    <input type="text" class="form-control" asp-for="Pais">
                    <span asp-validation-for="Pais" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label>Cargo</label>
                    <input type="text" class="form-control" asp-for="Cargo">
                    <span asp-validation-for="Cargo" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label>Misión/Función</label>
                    <input type="text" class="form-control" asp-for="Mision">
                    <span asp-validation-for="Mision" class="text-danger"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="row">
                <div class="col-md-4">
                    <label>Fecha de Inicio</label>
                    <input type="date" class="form-control" asp-for="FechaInicio">
                    <span asp-validation-for="FechaInicio" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label>Fecha de Finalización</label>
                    <input type="date" class="form-control" asp-for="FechaFin">
                    <span asp-validation-for="FechaFin" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label>Duración</label>
                    <input class="form-control" asp-for="Duracion" readonly>
                    <span asp-validation-for="Duracion" class="text-danger"></span>
                </div>
            </div>
        </div>
        <input type="hidden" name="DufiId" value="@ViewBag.DufiId" />
        <div class="box-footer">
            <a asp-action="Index/@ViewBag.DufiId" class="btn btn-danger">Cancelar</a>
            <button type="submit" class="btn btn-info pull-right">Agregar</button>
        </div>
    </div>
</form>

<script>
    $(document).ready(function () {

        $('#FechaInicio').change(function () {
            var dias = getDiferenciaEnDiasDeFechas($('#FechaInicio').val(), $('#FechaFin').val())
            $('#Duracion').val(dias);
        })
        $('#FechaFin').change(function () {
            var dias = getDiferenciaEnDiasDeFechas($('#FechaInicio').val(), $('#FechaFin').val())
            $('#Duracion').val(dias);
        })
    });
    function getDiferenciaEnDiasDeFechas($inicio,$fin)
	{
		var start = new Date($inicio),
		end   = new Date($fin),
		diff  = new Date(end - start),
		days  = diff/1000/60/60/24;
		return days;
    };
    $('#FechaInicio').change(function () {
        var dias = getDiferenciaEnDiasDeFechas($('#FechaInicio').val(), $('#FechaFin').val())
        $('#Duracion').val(dias);
    });
    $('#FechaFin').change(function () {
        var dias = getDiferenciaEnDiasDeFechas($('#FechaInicio').val(), $('#FechaFin').val())
        $('#Duracion').val(dias);
    });
</script>